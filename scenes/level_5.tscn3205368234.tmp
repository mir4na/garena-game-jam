[gd_scene format=3 uid="uid://c1fvkgn0igotq"]

[ext_resource type="Script" uid="uid://dgo01i84d467s" path="res://scripts/Level5.gd" id="1_level5"]
[ext_resource type="PackedScene" uid="uid://b8d8d8d8d8d8" path="res://scenes/Player.tscn" id="2_player"]
[ext_resource type="PackedScene" path="res://scenes/sun_boss.tscn" id="3_boss"]
[ext_resource type="Script" uid="uid://646xge22d10n" path="res://scripts/Chain.gd" id="4_chain"]
[ext_resource type="Script" uid="uid://bf3md8jkmjmfn" path="res://scripts/topdown_chain.gd" id="5_topdown_chain"]
[ext_resource type="Shader" uid="uid://llm2lvjlkrl4" path="res://shaders/pixelated_burn.gdshader" id="6_burn_shader"]
[ext_resource type="Texture2D" uid="uid://c1suc6j6sxteb" path="res://shaders/burn_noise.tres" id="7_noise"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_burn"]
shader = ExtResource("6_burn_shader")
shader_parameter/burn_center = Vector2(0.85, 0.1)
shader_parameter/burn_radius = 0.0
shader_parameter/border_width = 0.15
shader_parameter/burn_noise_mult = 0.34
shader_parameter/pixel_size = 0.004
shader_parameter/blend_steps = 8.0
shader_parameter/noise_texture = ExtResource("7_noise")
shader_parameter/burn_color_1 = Color(1, 0.5, 0, 1)
shader_parameter/burn_color_2 = Color(1, 0.2, 0, 1)
shader_parameter/burn_color_3 = Color(0.3, 0, 0, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall_h"]
size = Vector2(1920, 50)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_platform"]
size = Vector2(300, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_flag"]
size = Vector2(64, 96)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall"]
size = Vector2(50, 1080)

[node name="Level5" type="Node2D" unique_id=1137203276]
script = ExtResource("1_level5")

[node name="Background" type="ColorRect" parent="." unique_id=1869067919]
offset_right = 1920.0
offset_bottom = 1080.0
color = Color(0.4, 0.6, 0.9, 1)

[node name="SunSprite" type="Sprite2D" parent="." unique_id=1000149551]
position = Vector2(1700, 150)
scale = Vector2(3, 3)

[node name="SunVisual" type="Polygon2D" parent="SunSprite" unique_id=1437361737]
color = Color(1, 0.85, 0, 1)
polygon = PackedVector2Array(-30, 0, -21, -21, 0, -30, 21, -21, 30, 0, 21, 21, 0, 30, -21, 21)

[node name="SunRays" type="Polygon2D" parent="SunSprite" unique_id=158747427]
color = Color(1, 0.9, 0.3, 1)
polygon = PackedVector2Array(0, -45, 5, -35, -5, -35, 32, -32, 25, -25, 27, -27, 45, 0, 35, 5, 35, -5, 32, 32, 25, 27, 27, 25, 0, 45, -5, 35, 5, 35, -32, 32, -27, 25, -25, 27, -45, 0, -35, -5, -35, 5, -32, -32, -25, -27, -27, -25)

[node name="MapContainer" type="Node2D" parent="." unique_id=1256280532]

[node name="Floor" type="StaticBody2D" parent="MapContainer" unique_id=490351060]
material = SubResource("ShaderMaterial_burn")
position = Vector2(960, 900)

[node name="Visual" type="ColorRect" parent="MapContainer/Floor" unique_id=1622064314]
offset_left = -960.0
offset_top = -16.0
offset_right = 960.0
offset_bottom = 200.0
color = Color(0.4, 0.3, 0.2, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="MapContainer/Floor" unique_id=2100145220]
shape = SubResource("RectangleShape2D_wall_h")

[node name="Platform1" type="StaticBody2D" parent="MapContainer" unique_id=933023757]
material = SubResource("ShaderMaterial_burn")
position = Vector2(400, 700)

[node name="Visual" type="ColorRect" parent="MapContainer/Platform1" unique_id=733966161]
offset_left = -150.0
offset_top = -16.0
offset_right = 150.0
offset_bottom = 16.0
color = Color(0.35, 0.25, 0.15, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="MapContainer/Platform1" unique_id=1797118217]
shape = SubResource("RectangleShape2D_platform")

[node name="Platform2" type="StaticBody2D" parent="MapContainer" unique_id=1703336360]
material = SubResource("ShaderMaterial_burn")
position = Vector2(960, 550)

[node name="Visual" type="ColorRect" parent="MapContainer/Platform2" unique_id=1784851475]
offset_left = -150.0
offset_top = -16.0
offset_right = 150.0
offset_bottom = 16.0
color = Color(0.35, 0.25, 0.15, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="MapContainer/Platform2" unique_id=64047963]
shape = SubResource("RectangleShape2D_platform")

[node name="Platform3" type="StaticBody2D" parent="MapContainer" unique_id=330940531]
material = SubResource("ShaderMaterial_burn")
position = Vector2(1500, 400)

[node name="Visual" type="ColorRect" parent="MapContainer/Platform3" unique_id=665206960]
offset_left = -150.0
offset_top = -16.0
offset_right = 150.0
offset_bottom = 16.0
color = Color(0.35, 0.25, 0.15, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="MapContainer/Platform3" unique_id=581583199]
shape = SubResource("RectangleShape2D_platform")

[node name="FlagTrigger" type="Area2D" parent="." unique_id=1506881279]
position = Vector2(759, 795)
collision_mask = 3

[node name="Pole" type="ColorRect" parent="FlagTrigger" unique_id=1291103356]
offset_left = -4.0
offset_top = -60.0
offset_right = 4.0
offset_bottom = 60.0
color = Color(0.6, 0.4, 0.2, 1)

[node name="FlagCloth" type="Polygon2D" parent="FlagTrigger" unique_id=2099823021]
position = Vector2(4, -40)
color = Color(1, 0.2, 0.2, 1)
polygon = PackedVector2Array(0, -20, 50, -10, 50, 10, 0, 20)

[node name="CollisionShape2D" type="CollisionShape2D" parent="FlagTrigger" unique_id=511203436]
shape = SubResource("RectangleShape2D_flag")

[node name="Arena" type="Node2D" parent="." unique_id=1454094300]
visible = false

[node name="WallLeft" type="StaticBody2D" parent="Arena" unique_id=1721222194]
position = Vector2(25, 540)

[node name="Collision" type="CollisionShape2D" parent="Arena/WallLeft" unique_id=275482424]
shape = SubResource("RectangleShape2D_wall")

[node name="Visual" type="ColorRect" parent="Arena/WallLeft" unique_id=827123610]
offset_left = -25.0
offset_top = -540.0
offset_right = 25.0
offset_bottom = 540.0
color = Color(0.2, 0.2, 0.3, 1)

[node name="WallRight" type="StaticBody2D" parent="Arena" unique_id=18408753]
position = Vector2(1895, 540)

[node name="Collision" type="CollisionShape2D" parent="Arena/WallRight" unique_id=2147078768]
shape = SubResource("RectangleShape2D_wall")

[node name="Visual" type="ColorRect" parent="Arena/WallRight" unique_id=725908434]
offset_left = -25.0
offset_top = -540.0
offset_right = 25.0
offset_bottom = 540.0
color = Color(0.2, 0.2, 0.3, 1)

[node name="WallTop" type="StaticBody2D" parent="Arena" unique_id=453031257]
position = Vector2(960, 25)

[node name="Collision" type="CollisionShape2D" parent="Arena/WallTop" unique_id=1856703774]
shape = SubResource("RectangleShape2D_wall_h")

[node name="Visual" type="ColorRect" parent="Arena/WallTop" unique_id=1021459481]
offset_left = -960.0
offset_top = -25.0
offset_right = 960.0
offset_bottom = 25.0
color = Color(0.2, 0.2, 0.3, 1)

[node name="WallBottom" type="StaticBody2D" parent="Arena" unique_id=120843425]
position = Vector2(960, 1055)

[node name="Collision" type="CollisionShape2D" parent="Arena/WallBottom" unique_id=92299558]
shape = SubResource("RectangleShape2D_wall_h")

[node name="Visual" type="ColorRect" parent="Arena/WallBottom" unique_id=93382586]
offset_left = -960.0
offset_top = -25.0
offset_right = 960.0
offset_bottom = 25.0
color = Color(0.2, 0.2, 0.3, 1)

[node name="SunBoss" parent="." unique_id=1580339019 instance=ExtResource("3_boss")]
visible = false
position = Vector2(960, 400)

[node name="Player1" parent="." unique_id=1446377489 instance=ExtResource("2_player")]
position = Vector2(200, 850)

[node name="Player2" parent="." unique_id=412507697 instance=ExtResource("2_player")]
position = Vector2(350, 850)
player_id = 2

[node name="Chain" type="Node2D" parent="." unique_id=639083917]
script = ExtResource("4_chain")
player1_path = NodePath("../Player1")
player2_path = NodePath("../Player2")
rope_length = 180.0

[node name="TopdownChain" type="Node2D" parent="." unique_id=1724457847]
visible = false
script = ExtResource("5_topdown_chain")
player1_path = NodePath("../Player1")
player2_path = NodePath("../Player2")
rope_length = 180.0

[node name="UI" type="CanvasLayer" parent="." unique_id=94938406]

[node name="TimerLabel" type="Label" parent="UI" unique_id=1354290475]
offset_left = 20.0
offset_top = 20.0
offset_right = 400.0
offset_bottom = 60.0
theme_override_font_sizes/font_size = 32

[node name="LivesLabel" type="Label" parent="UI" unique_id=608662836]
offset_left = 20.0
offset_top = 60.0
offset_right = 300.0
offset_bottom = 100.0
theme_override_font_sizes/font_size = 24
text = "LIVES: 3"

[node name="MessageLabel" type="Label" parent="UI" unique_id=1352513441]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -300.0
offset_top = 150.0
offset_right = 300.0
offset_bottom = 220.0
grow_horizontal = 2
theme_override_colors/font_color = Color(1, 0.8, 0, 1)
theme_override_font_sizes/font_size = 48
horizontal_alignment = 1

[node name="Camera2D" type="Camera2D" parent="." unique_id=254470236]
position = Vector2(960, 540)

[connection signal="body_entered" from="FlagTrigger" to="." method="_on_flag_touched"]
